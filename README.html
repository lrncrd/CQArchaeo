<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>readme</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="README_files/libs/clipboard/clipboard.min.js"></script>
<script src="README_files/libs/quarto-html/quarto.js"></script>
<script src="README_files/libs/quarto-html/popper.min.js"></script>
<script src="README_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="README_files/libs/quarto-html/anchor.min.js"></script>
<link href="README_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="README_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="README_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="README_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="README_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">



<div style="text-align: center;">
<p><img src="imgs/logo.jpg" alt="logo" width="500/"></p>
</div>
<section id="cqarcheo" class="level1">
<h1>CQArcheo</h1>
<p><code>CQArchaeo</code> is a simple package that allows testing a numerical dataset with the formula established by Kendall (1974).</p>
<section id="introduction-and-motivations" class="level2">
<h2 class="anchored" data-anchor-id="introduction-and-motivations">Introduction and motivations</h2>
<p>The purpose of the analysis is to determine whether a numerical dataset exhibits a recognizable system of multiples based on a fundamental unit (<em>quantum</em>). While widely employed in metrological studies of the ancient world due to its peculiarities, its applications can be extended to various fields.</p>
<p><br> To conduct the analysis, a sample of numerical data (integers or floats) within a predefined range is to set.</p>
<section id="define-sample-range" class="level3">
<h3 class="anchored" data-anchor-id="define-sample-range">Define sample range</h3>
<p>The sample range to be tested with CQA should encompass a significant portion of the entire dataset. However, it is crucial to avoid an excessively wide range to prevent unreliable results (Ialongo, Lago 2021). When the sample size is large enough, it is possible to create multiple ranges and perform the analysis on various sub-samples.</p>
</section>
<section id="defining-the-range-and-step-between-quanta" class="level3">
<h3 class="anchored" data-anchor-id="defining-the-range-and-step-between-quanta">Defining the Range and Step between Quanta</h3>
<p>The range and step between quanta in <code>CQA</code> refer to the specification of the interval of values and the increment between quantum units to be analyzed (e.g., by setting the range between 20 and 70 and the increment to <em>0.02</em>, quanta such as 7, 7.02, 7.04,â€¦, 70 will be tested). It is essential to carefully determine this range to strike a balance between encompassing a meaningful portion of the dataset and avoiding an excessively wide range for reliable results. Additionally, adjusting the step allows for flexibility in exploring different resolutions of the analysis. The hypothesis tested on this data interval is whether certain values (<em>quanta</em>) are suitable as fundamental units.</p>
</section>
<section id="the-cosine-quantogram-analysis" class="level3">
<h3 class="anchored" data-anchor-id="the-cosine-quantogram-analysis">The Cosine Quantogram Analysis</h3>
<p><span class="math display">\[\phi(q) = \sqrt{2/N}\sum_{i=1}^{n}cos(\frac{2\pi\varepsilon_i}{q})\]</span></p>
<p>The quantum <span class="math inline">\((q)\)</span> with the highest <span class="math inline">\(\phi(q)\)</span> value emerges as the prime candidate for serving as the fundamental unit of a numerical dataset. This result is obtained through the summation of <span class="math inline">\(\phi(q)\)</span> values calculated using the Kendall formula for each individual element in the initial dataset. <span class="math inline">\(N\)</span> represents the number of elements comprising the sample. In the initial part of the formula, <span class="math inline">\(\sqrt{2/N}\)</span> is computed, giving rise to a vector utilized for all tests conducted on each element of the dataset for every quantum. <span class="math inline">\(\varepsilon\)</span> is the remainder of the division operation between each element of the dataset and the tested quantum, and <span class="math inline">\(q\)</span> represents the quantum under examination.</p>
</section>
<section id="plotting-and-evaluating-results" class="level3">
<h3 class="anchored" data-anchor-id="plotting-and-evaluating-results">Plotting and evaluating results</h3>
<p>At the conclusion of the analysis, each quantum will have the sum of the <span class="math inline">\(\phi(q)\)</span> values obtained by applying the formula to each element of the initial dataset. The summed <span class="math inline">\(\phi(q)\)</span> values are then plotted on the y-axis of a line plot, while the x-axis is composed of the quanta. If the dataset contains one (or more) promising candidate(s) to be the fundamental unit of a numerical series, the plot should exhibit a peak at the apex of a bell-shaped curve (see <strong>Usage</strong> for more details).</p>
</section>
<section id="monte-carlo-simulation" class="level3">
<h3 class="anchored" data-anchor-id="monte-carlo-simulation">Monte Carlo simulation</h3>
<p>However, the analysis can yield false positives. To address this, randomized datasets, compared to the original one, are generated and tested using <code>CQA</code>. Starting from a minimum of 100 simulated datasets, the analysis counts how many times it returns a higher <span class="math inline">\(\phi(q)\)</span> value compared to the original dataset. Initially, a statistical significance threshold (<span class="math inline">\(\alpha\)</span> level) is set, typically at 1 or 5%. If the highest <span class="math inline">\(\phi(q)\)</span> from the original dataset surpasses the established threshold, it is highly probable that the sample is not subject to excessive measurement imprecisions, and the result is deemed reliable. Otherwise, it cannot be ruled out that the result is a false positive.</p>
</section>
</section>
<section id="installation" class="level2">
<h2 class="anchored" data-anchor-id="installation">Installation</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install cqarchaeo</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now you can import the package in your Python scripts.</p>
</section>
<section id="usage" class="level2">
<h2 class="anchored" data-anchor-id="usage">Usage</h2>
<p>Perform a CQA analysis on a given dataset:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">### Import the package</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> cqarchaeo <span class="im">import</span> CQAnalysis</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co">### Perform the analysis</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>cqa <span class="op">=</span> CQAnalysis(<span class="vs">r'data.xlsx'</span>, min_value <span class="op">=</span> <span class="dv">5</span>, max_value <span class="op">=</span> <span class="dv">200</span>, min_quantum <span class="op">=</span> <span class="dv">5</span>, </span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>        max_quantum <span class="op">=</span> <span class="dv">24</span>, step <span class="op">=</span> <span class="fl">0.02</span>, Montecarlo_sim <span class="op">=</span> <span class="va">True</span>, </span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>        mc_parameter <span class="op">=</span> <span class="fl">0.15</span>, mc_iterations <span class="op">=</span> <span class="dv">100</span>)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co">### View the quantogram</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>cqa.plot_quantogram(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>), plot_best_quantum<span class="op">=</span><span class="va">True</span>,    </span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>        dpi<span class="op">=</span><span class="dv">300</span>, plot_alpha_5<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You get the following quantogram:</p>
<p><img src="imgs/Quantogram.png" class="img-fluid"></p>
<p>if you want to save the table with the results of the analysis, you can use the <code>save_quanta</code> method:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>cqa.save_quanta(extension <span class="op">=</span> <span class="st">'xlsx'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You can also compare multiple quantograms using the <code>compare_quantograms</code> function:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">### Import the package</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> cqarchaeo <span class="im">import</span> CQAnalysis, compare_quantograms</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co">### Perform the analysis</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>cqa1 <span class="op">=</span> CQAnalysis(<span class="vs">r'data1.xlsx'</span>, min_value <span class="op">=</span> <span class="dv">5</span>, max_value <span class="op">=</span> <span class="dv">200</span>, min_quantum <span class="op">=</span> <span class="dv">5</span>, </span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>        max_quantum <span class="op">=</span> <span class="dv">24</span>, step <span class="op">=</span> <span class="fl">0.02</span>, Montecarlo_sim <span class="op">=</span> <span class="va">True</span>, </span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>        mc_parameter <span class="op">=</span> <span class="fl">0.15</span>, mc_iterations <span class="op">=</span> <span class="dv">100</span>)</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>cqa2 <span class="op">=</span> CQAnalysis(<span class="vs">r'data2.xlsx'</span>, min_value <span class="op">=</span> <span class="dv">5</span>, max_value <span class="op">=</span> <span class="dv">200</span>, min_quantum <span class="op">=</span> <span class="dv">5</span>, </span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>        max_quantum <span class="op">=</span> <span class="dv">24</span>, step <span class="op">=</span> <span class="fl">0.02</span>, Montecarlo_sim <span class="op">=</span> <span class="va">True</span>, </span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>        mc_parameter <span class="op">=</span> <span class="fl">0.15</span>, mc_iterations <span class="op">=</span> <span class="dv">100</span>)</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co">### Compare the quantograms</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>compare_quantograms(quantogram_list <span class="op">=</span> [cqa1, cqa_2], figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>), </span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>                    color_list<span class="op">=</span>[<span class="st">"black"</span>, <span class="st">"green"</span>], alpha_list<span class="op">=</span>[<span class="fl">0.2</span>, <span class="dv">1</span>],</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>                    label_list<span class="op">=</span><span class="va">None</span>, plot_montecarlo_bound<span class="op">=</span>[<span class="va">True</span>, <span class="va">True</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You get the following plot:</p>
<p><img src="imgs/Quantogram_compare.png" class="img-fluid"></p>
</section>
<section id="api-references" class="level2">
<h2 class="anchored" data-anchor-id="api-references">API references</h2>
<section id="cqanalysis" class="level3">
<h3 class="anchored" data-anchor-id="cqanalysis"><strong>CQAnalysis</strong></h3>
<pre><code> Perform a quantogram analysis on a given dataset (Class).       </code></pre>
<p>Parameters</p>
<pre><code>        data (str) 
            path to the file to be imported. The file must be a csv or excel file with only one column.
        min_value (int) 
            minimum number of data to be considered (default: 5).
        max_value (int) 
            maximum number of data to be considered (default: 200).
        min_quantum (int)
            minimum quantum to be considered (default: 5). 
        max_quantum (int) 
            maximum quantum to be considered (default: 24).
        step (float) 
            step between two consecutive quanta (default: 0.02).
        Montecarlo_sim (bool) 
            if True, a Montecarlo simulation is performed (default: True).
        mc_parameter (float) 
            parameter for the Montecarlo simulation (default: 0.15).
        mc_iterations (int)
            number of iterations for the Montecarlo simulation (default: 100).</code></pre>
<p>Returns</p>
<pre><code>        CQAnalysis object</code></pre>
<p>Example</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">from</span> cqarcheo <span class="im">import</span> CQAnalysis</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> cqa <span class="op">=</span> CQAnalysis(data <span class="op">=</span> <span class="st">'data.csv'</span>, min_value <span class="op">=</span> <span class="dv">5</span>, max_value <span class="op">=</span> <span class="dv">200</span>,</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>                            min_quantum <span class="op">=</span> <span class="dv">5</span>, max_quantum <span class="op">=</span> <span class="dv">24</span>, step <span class="op">=</span> <span class="fl">0.02</span>,</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>                            Montecarlo_sim <span class="op">=</span> <span class="va">True</span>, mc_parameter <span class="op">=</span> <span class="fl">0.15</span>, mc_iterations <span class="op">=</span> <span class="dv">100</span>)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> cqa</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>Quantum: <span class="fl">12.020</span>, Ï†(q) value: <span class="fl">0.997</span>  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><br></p>
</section>
<section id="cqanalysis.plot_quantogram" class="level3">
<h3 class="anchored" data-anchor-id="cqanalysis.plot_quantogram"><strong>CQAnalysis.plot_quantogram</strong></h3>
<pre><code>    Plot a quantogram using matplotlib (class method).</code></pre>
<p>Parameters</p>
<pre><code>        figsize (tuple)
            size of the figure (default: (10, 6)).
        title (str)
            title of the figure (default: "Quantogram").
        plot_best_quantum (bool)
            if True, the best quantum is plotted (default: True).
        legend_outside (bool)
            if True, the legend is placed outside the figure (default: True).
        plot_alpha_1 (bool)
            if True, the alpha_1 value is plotted (default: True).
        plot_alpha_5 (bool)
            if True, the alpha_5 value is plotted (default: True).
        x_step (int)
            step between x-axis ticks (default: 1).
        fill_between (bool)
            if True, the area under the quantogram is filled (default: True).
        save (bool)
            if True, the figure is saved (default: False).
        dpi (int)
            resolution of the figure (default: 300).
    </code></pre>
<p>Returns</p>
<pre><code>        matplotlib figure</code></pre>
<p>Example</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">from</span> cqarcheo <span class="im">import</span> CQAnalysis</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> cqa <span class="op">=</span> CQAnalysis(data <span class="op">=</span> <span class="st">'data.csv'</span>, min_value <span class="op">=</span> <span class="dv">5</span>, max_value <span class="op">=</span> <span class="dv">200</span>,</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>                            min_quantum <span class="op">=</span> <span class="dv">5</span>, max_quantum <span class="op">=</span> <span class="dv">24</span>, step <span class="op">=</span> <span class="fl">0.02</span>,</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>                            Montecarlo_sim <span class="op">=</span> <span class="va">True</span>, mc_parameter <span class="op">=</span> <span class="fl">0.15</span>, mc_iterations <span class="op">=</span> <span class="dv">100</span>)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> cqa.plot_quantogram(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>), title <span class="op">=</span> <span class="st">"Quantogram"</span>,</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>                                plot_best_quantum <span class="op">=</span> <span class="va">True</span>, save<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>                                legend_outside <span class="op">=</span> <span class="va">True</span>,</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>                                plot_alpha_1 <span class="op">=</span> <span class="va">True</span>, plot_alpha_5 <span class="op">=</span> <span class="va">True</span>,</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>                                x_step <span class="op">=</span> <span class="dv">1</span>, dpi<span class="op">=</span><span class="dv">300</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><br></p>
</section>
<section id="cqanalysis.save_quanta" class="level3">
<h3 class="anchored" data-anchor-id="cqanalysis.save_quanta"><strong>CQAnalysis.save_quanta</strong></h3>
<pre><code>   Save the quantogram data to a file (class method).</code></pre>
<p>Parameters</p>
<pre><code>            extension (str)
                extension ('xlsx' or 'csv') of the file to be saved (default: 'xlsx').</code></pre>
<p>Returns</p>
<pre><code>            None</code></pre>
<p>Example</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">from</span> cqarcheo <span class="im">import</span> CQAnalysis</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> cqa <span class="op">=</span> CQAnalysis(data <span class="op">=</span> <span class="st">'data.csv'</span>, min_value <span class="op">=</span> <span class="dv">5</span>, max_value <span class="op">=</span> <span class="dv">200</span>,</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>                            min_quantum <span class="op">=</span> <span class="dv">5</span>, max_quantum <span class="op">=</span> <span class="dv">24</span>, step <span class="op">=</span> <span class="fl">0.02</span>,</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>                            Montecarlo_sim <span class="op">=</span> <span class="va">True</span>, mc_parameter <span class="op">=</span> <span class="fl">0.15</span>, mc_iterations <span class="op">=</span> <span class="dv">100</span>)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> cqa.save_quanta(extension <span class="op">=</span> <span class="st">'xlsx'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><br></p>
</section>
<section id="compare_quantograms" class="level3">
<h3 class="anchored" data-anchor-id="compare_quantograms"><strong>compare_quantograms</strong></h3>
<pre><code>Comprare multiple quantograms using matplotlib (function).</code></pre>
<p>Parameters</p>
<pre><code>    quantogram_list (list)
        list of quantograms (CQAnalysis instances) to be compared.
    figsize (tuple)
        size of the figure (default: (10, 6)).
    color_list (list)
        list of colors (str) for the quantograms. If None, default colors will be used (default: None).
    label_list (list)
        list of labels (str) for the quantograms. If None, default labels will be used (default: None).
    plot_montecarlo_bound (bool or list)
        if True, the Montecarlo bounds are plotted (default: True). 
        If a list (including bool values) is passed, the bounds are plotted only for the quantograms in the list.
    alpha_list (list)
        list of alpha values (float) for the quantograms. If None, default values will be used (default: None).
    plot_alpha_1 (bool)
        if True, the alpha_1 value is plotted (default: True).
    plot_alpha_5 (bool)
        if True, the alpha_5 value is plotted (default: True).
    fill_between (bool)
        if True, the area between the quantogram and the x-axis is filled (default: True).
    legend_outside (bool)
        if True, the legend is placed outside the figure (default: True).
    x_step (int)
        step between x-axis ticks (default: 1).
    save (bool)
        if True, the figure is saved (default: False).
    dpi (int)
        resolution of the figure (default: 300).</code></pre>
<p>Returns</p>
<pre><code>    matplotlib figure</code></pre>
<p>Example</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">from</span> cqarchaeo <span class="im">import</span> CQAnalysis, compare_quantograms</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> cqa1 <span class="op">=</span> CQAnalysis(...)  </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> cqa2 <span class="op">=</span> CQAnalysis(...)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> compare_quantograms([cqa1, cqa2], figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>), color_list<span class="op">=</span>[<span class="st">"black"</span>, <span class="st">"red"</span>], </span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>                            label_list<span class="op">=</span>[<span class="st">"Quantogram 1"</span>, <span class="st">"Quantogram 2"</span>],</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>                            plot_montecarlo_bound<span class="op">=</span><span class="va">True</span>, alpha_list <span class="op">=</span> <span class="va">None</span>,</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>                            legend_outside<span class="op">=</span><span class="va">True</span>, x_step <span class="op">=</span> <span class="dv">1</span>, save<span class="op">=</span> <span class="va">True</span>, dpi <span class="op">=</span> <span class="dv">300</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<p>Kendall, D.G., 1974. Hunting quanta. Phil. Trans. R. Soc. Lond. A 276, 231â€“266. https://doi.org/10.1098/rsta.1974.0020 <br> Ialongo, N., Lago, G., 2021. A small change revolution. Weight systems and the emergence of the first Pan-European money. Journal of Archaeological Science. https://doi.org/10.1016/j.jas.2021.105379</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>